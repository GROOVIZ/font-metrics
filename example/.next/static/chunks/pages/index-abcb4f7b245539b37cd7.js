(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{1151:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return j}});var r=n(4246);function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e,t){if(e){if("string"===typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}function s(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||o(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var a,l=n(6265),c=n(7378);!function(e){e.capHeight="capHeight",e.xHeight="xHeight",e.overShoot="overShoot",e.lineHeight="lineHeight"}(a||(a={}));var f;!function(e){e.top="top",e.ascent="ascent",e.tittle="tittle",e.upper="upper",e.lower="lower",e.baseline="baseline",e.descent="descent",e.bottom="bottom"}(f||(f={}));var u={fontSize:16,heights:{capHeight:1,overShoot:1,xHeight:1,lineHeight:1},offsets:{top:1,ascent:1,tittle:1,upper:1,lower:1,baseline:1,descent:1,bottom:1}},h={fontSize:128,fontWeight:"",fontStyle:"",origin:"cssTop",capHeight:"H",xHeight:"x",descent:"p",ascent:"h",tittle:"i",baseline:"n",overshoot:"O"},d=function(e,t){var n;if(void 0===t&&(t={}),"undefined"===typeof document)return[u];var r=.5*(t=Object.assign(h,t)).fontSize,i=(0,c.useState)({}),o=i[0],s=i[1],a=(0,c.useState)(document.createElement("canvas"))[0],l=a.getContext("2d"),f=function(e){l.textBaseline=e},d=function(e){return function(e){l.clearRect(0,0,a.width,a.height),l.fillText(e,a.width/2,"bottom"===l.textBaseline?a.height:r)}(e),l.getImageData(0,0,a.width,a.height).data},p=function(e){return Math.round(function(e){for(var t=d(e),n=3,r=t.length;n<r;n+=4)if(t[n]>0)return(n-3)/4;return t.length}(e)/a.width)-r},g=function(e){return Math.round(function(e){for(var t=d(e),n=t.length-1;n>=3;n-=4)if(t[n]>0)return n/4;return 0}(e)/a.width)-r},b=function(e,t,n){var r={fontSize:e.fontSize,heights:Object.assign({},e.heights),offsets:Object.assign({},e.offsets)};if(1!==t){for(var i in e.heights)r.heights[i]/=t;for(var i in e.offsets)r.offsets[i]/=t}var o=r.offsets[n];for(var i in e.offsets)r.offsets[i]-=o;return r},v=function(e,t){return[e,t.fontStyle,t.fontWeight,t.capHeight,t.xHeight,t.descent,t.ascent,t.tittle,t.baseline,t.overshoot].join("_")}(e,t);if(o[v]&&t.fontSize<=o[v].fontSize)return[b(o[v],1,t.origin)];a.width=2*t.fontSize,a.height=2*t.fontSize+r,l.font=t.fontStyle+" "+t.fontWeight+" "+t.fontSize+"px "+e,l.textBaseline="top",l.textAlign="center";var x=b(function(){var n=function(){var n=document.createElement("DIV");n.id="__textMeasure",n.innerHTML="x",n.style.position="absolute",n.style.top="-500px",n.style.left="0",n.style.fontFamily=e,n.style.fontWeight=t.fontWeight,n.style.fontStyle=t.fontStyle,n.style.fontSize=t.fontSize+"px",document.body.appendChild(n);var r=n.offsetHeight;return document.body.removeChild(n),r}(),i=function(){f("bottom");var e=a.height-g("A")-r;return f("top"),g("A")+e}(),o={top:0,ascent:p(t.ascent),tittle:p(t.tittle),upper:p(t.capHeight),lower:p(t.xHeight),baseline:g(t.baseline),descent:g(t.descent),bottom:i},s={capHeight:o.baseline-o.upper,overShoot:g(t.overshoot)-o.baseline,xHeight:o.baseline-o.lower,lineHeight:n};return{fontSize:t.fontSize,heights:s,offsets:o}}(),t.fontSize,t.origin);return s(Object.assign(o,((n={})[v]=x,n))),[x]};function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){(0,l.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var b=function(e){var t=e.params,n=e.onParamsChange,i=(0,c.useRef)(null);return(0,c.useEffect)((function(){i.current&&(i.current.indeterminate=t.visibleOffsets.length>0&&t.visibleOffsets.length<Object.values(f).length,i.current.checked=t.visibleOffsets.length===Object.values(f).length)}),[t]),(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("table",{children:(0,r.jsxs)("tbody",{children:[(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:"Text:"}),(0,r.jsx)("td",{children:(0,r.jsx)("input",{type:"text",placeholder:"Input some text",onChange:function(e){return r=e.target.value,n(g(g({},t),{},{text:r}));var r},value:t.text})})]}),(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:"Font:"}),(0,r.jsx)("td",{children:(0,r.jsxs)("select",{value:t.fontFamily,onChange:function(e){return r=e.target.value,n(g(g({},t),{},{fontFamily:r}));var r},children:[(0,r.jsx)("option",{value:"Catamaran",children:"Catamaran"}),(0,r.jsx)("option",{value:"Arial",children:"Arial"}),(0,r.jsx)("option",{value:"Staatliches",children:"Staatliches"}),(0,r.jsx)("option",{value:"Syne",children:"Syne"}),(0,r.jsx)("option",{value:"Sabado",children:"Sabado"}),(0,r.jsx)("option",{value:"Verdana",children:"Verdana"}),(0,r.jsx)("option",{value:"Georgia",children:"Georgia"}),(0,r.jsx)("option",{value:"Courier New",children:"Courier New"}),(0,r.jsx)("option",{value:"Brush Script MT",children:"Brush Script MT"}),(0,r.jsx)("option",{value:"Impact",children:"Impact"})]})})]}),(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:"Bold:"}),(0,r.jsx)("td",{children:(0,r.jsx)("input",{type:"checkbox",checked:t.bold,onChange:function(){return n(g(g({},t),{},{bold:!t.bold}))}})})]}),(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:"Italic:"}),(0,r.jsx)("td",{children:(0,r.jsx)("input",{type:"checkbox",checked:t.italic,onChange:function(){return n(g(g({},t),{},{italic:!t.italic}))}})})]}),(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:(0,r.jsx)("input",{type:"checkbox",ref:i,onChange:function(){return n(g(g({},t),{},{visibleOffsets:t.visibleOffsets.length===Object.values(f).length?[]:Object.values(f)}))}})}),(0,r.jsx)("td",{}),(0,r.jsx)("td",{})]},"all"),Object.values(f).map((function(e){return(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:(0,r.jsx)("input",{type:"checkbox",checked:t.visibleOffsets.includes(e),onChange:function(){return function(e){return n(g(g({},t),{},{visibleOffsets:t.visibleOffsets.includes(e)?t.visibleOffsets.filter((function(t){return t!==e})):[].concat(s(t.visibleOffsets),[e])}))}(e)}})}),(0,r.jsx)("td",{children:e}),(0,r.jsx)("td",{children:!["top","bottom"].includes(e)&&(0,r.jsx)("input",{type:"text",value:t.offsetChars[e],onChange:function(r){return function(e,r){return n(g(g({},t),{},{offsetChars:g(g({},t.offsetChars),{},(0,l.Z)({},e,r[0]))}))}(e,r.target.value)},size:1,style:{textAlign:"center"}})})]},e)}))]})})})};function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(l){i=!0,o=l}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return n}}(e,t)||o(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var x={top:"rgb(136,174,225)",ascent:"rgb(135,170,35)",tittle:"rgb(171,118,242)",upper:"rgb(62,195,73)",lower:"rgb(246,66,208)",baseline:"rgb(132,183,143)",bottom:"rgb(207,70,88)",descent:"rgb(247,147,30)",reserved2:"rgb(144,112,94)",reserved3:"rgb(253,89,23)"},y=function(e){var t=e.metricsParameters,n=t.bold?"bold":"normal",i=t.italic?"italic":"",o=v(d(t.fontFamily,{origin:"top",fontStyle:i,fontWeight:n,capHeight:t.offsetChars.upper,xHeight:t.offsetChars.lower,descent:t.offsetChars.descent,ascent:t.offsetChars.ascent,tittle:t.offsetChars.tittle,baseline:t.offsetChars.baseline}),1)[0],s=(0,c.useRef)(null),a=(0,c.useRef)(null);return(0,c.useEffect)((function(){var e=window.devicePixelRatio,r=s.current.clientWidth,l=s.current.clientHeight,c=Math.min(r/6,l/2),f=Math.ceil(.5*c),u=a.current;u.width=r*e,u.height=l*e,u.style.width="90%",u.style.height="90%";var h=u.getContext("2d");h.fillStyle="#AAEEEE",h.fillRect(0,0,h.canvas.width,h.canvas.height),h.font="".concat(i," ").concat(n," ").concat(c*e,"px ").concat(t.fontFamily),h.fillStyle="black",h.textBaseline="top",h.fillText(t.text,0,f+o.offsets.top*c*e),t.visibleOffsets.forEach((function(t){return function(t,n,r){t.strokeStyle=r,t.lineWidth=4,t.beginPath(),t.moveTo(0,f+n*c*e),t.lineTo(t.canvas.width,f+n*c*e),t.stroke()}(h,o.offsets[t],x[t])}))}),[i,n,t,o]),(0,r.jsx)("div",{ref:s,style:{width:"100%",height:"100%"},children:(0,r.jsx)("canvas",{ref:a})})};function j(){var e=(0,c.useState)({fontFamily:"Sabado",text:"SupArHheifno",bold:!1,italic:!1,visibleOffsets:Object.values(f),offsetChars:{upper:"H",lower:"x",descent:"p",ascent:"h",tittle:"i",baseline:"n"}}),t=e[0],n=e[1];return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("h1",{children:"Font Metrics Hook"}),(0,r.jsx)("h2",{children:"Calculate Fonts Metrics using HTML Canvas"}),(0,r.jsx)("p",{children:"This React Package is brought to you by the GROOVIZ Team!"}),(0,r.jsxs)("div",{style:{display:"grid",width:"100%",gridTemplateColumns:"30% 1fr"},children:[(0,r.jsx)("div",{children:(0,r.jsx)(b,{params:t,onParamsChange:function(e){n(e)}})}),(0,r.jsx)("div",{children:(0,r.jsx)(y,{metricsParameters:t})})]})]})}},5301:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(1151)}])}},function(e){e.O(0,[774,888,179],(function(){return t=5301,e(e.s=t);var t}));var t=e.O();_N_E=t}]);